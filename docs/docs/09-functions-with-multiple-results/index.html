<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Functions with multiple results#In Lua, function can return none, one, or even multiple return values. It is not the same as if function returns a table, here its results are stored directly to result variables after the call. For example hypothetical function to attempt to withdraw money could result in either whole amount, or just a portion of requested cash and an boolean indication that not whole requested value was returned."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="09. Functions with multiple results"><meta property="og:description" content="Functions with multiple results#In Lua, function can return none, one, or even multiple return values. It is not the same as if function returns a table, here its results are stored directly to result variables after the call. For example hypothetical function to attempt to withdraw money could result in either whole amount, or just a portion of requested cash and an boolean indication that not whole requested value was returned."><meta property="og:type" content="article"><meta property="og:url" content="https://martinkunc.github.io/lua-tutorial/docs/09-functions-with-multiple-results/"><meta property="article:section" content="docs"><title>09. Functions with multiple results | Lua tutorial</title><link rel=manifest href=/lua-tutorial/manifest.json><link rel=icon href=/lua-tutorial/favicon.png type=image/x-icon><link rel=stylesheet href=/lua-tutorial/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/lua-tutorial/flexsearch.min.js></script>
<script defer src=/lua-tutorial/en.search.min.80257eee436072364c20f78c9ef0d9bd1202665517414e7231f6f986aad3cabc.js integrity="sha256-gCV+7kNgcjZMIPeMnvDZvRICZlUXQU5yMfb5hqrTyrw=" crossorigin=anonymous></script>
<script src=https://martinkunc.github.io/lua-tutorial//js/lua.vm.js?1662824463></script>
<link rel=stylesheet href=https://martinkunc.github.io/lua-tutorial//css/codemirror.css?1662824463><script src=https://martinkunc.github.io/lua-tutorial//js/codemirror.js?1662824463></script>
<link rel=stylesheet href=https://martinkunc.github.io/lua-tutorial//css/styles.css?1662824463><script src=https://martinkunc.github.io/lua-tutorial//js/lua.js?1662824463></script>
<script src=https://martinkunc.github.io/lua-tutorial//js/luacode.js?1662824463></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/lua-tutorial/><span>Lua tutorial</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/lua-tutorial/docs/01-installation/>01. Installation</a></li><li><a href=/lua-tutorial/docs/02-introduction/>02. Introduction</a></li><li><a href=/lua-tutorial/docs/03-types/>03. Types</a></li><li><a href=/lua-tutorial/docs/04-chunks-and-require/>04. Chunks and require</a></li><li><a href=/lua-tutorial/docs/05-string-functions/>05. String functions</a></li><li><a href=/lua-tutorial/docs/06-arrays/>06. Arrays and tables</a></li><li><a href=/lua-tutorial/docs/07-if-condition-operators/>07. If condition and operators</a></li><li><a href=/lua-tutorial/docs/08-functions-local-and-global-scope/>08. Functions, local and global scope</a></li><li><a href=/lua-tutorial/docs/09-functions-with-multiple-results/ class=active>09. Functions with multiple results</a></li><li><a href=/lua-tutorial/docs/10-closures-iterators/>10. Closures and Iterators</a></li><li><a href=/lua-tutorial/docs/11-table-key-value-pairs/>11. Table Key value pairs</a></li><li><a href=/lua-tutorial/docs/12-for-cycle/>12. For Cycle</a></li><li><a href=/lua-tutorial/docs/13-while-and-repeat-cycles/>13. While and repeat cycles</a></li><li><a href=/lua-tutorial/docs/15-common-standard-libraries-copy/>15. Common standard libraries</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/lua-tutorial/svg/menu.svg class=book-icon alt=Menu></label>
<strong>09. Functions with multiple results</strong>
<label for=toc-control></label></div></header><article class=markdown><h2 id=functions-with-multiple-results>Functions with multiple results
<a class=anchor href=#functions-with-multiple-results>#</a></h2><p>In Lua, function can return none, one, or even multiple return values. It is not the same as if function returns a table, here its results are stored directly to
result variables after the call.
For example hypothetical function to attempt to withdraw money could result in either whole amount, or just a portion of requested cash and an boolean indication
that not whole requested value was returned. Our function for simplicity always results in true.</p><div class=grid-container><div class=grid-item><textarea class=editor>
function TryWithdrawMoney(m)
  return m, true
end

amount, success = TryWithdrawMoney(100)
print(amount, success)
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div><p>Lua changes behaviour of how multiple results are being used, depending into
how many result variables the result is assigned to match the expected count.
For example following code will fill result based on produced number of results and the rest will be nil.</p><div class=grid-container><div class=grid-item><textarea class=editor>
function Produce0()
  return
end

function Produce1()
  return &#34;a&#34;
end

function Produce2()
  return &#34;a&#34;, &#34;b&#34;
end

x,y,z = Produce0()
print(x,y,z)

x,y,z = Produce1()
print(x,y,z)

x,y,z = Produce2()
print(x,y,z)
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div><p>Similarly, we can combine the multiple results producing function with multiple results assignment.</p><div class=grid-container><div class=grid-item><textarea class=editor>
function Produce0()
  return
end

function Produce1()
  return &#34;a&#34;
end

function Produce2()
  return &#34;a&#34;, &#34;b&#34;
end

x,y,z = 1, 2, Produce0()
print(x,y,z)

x,y,z = Produce1()
print(x,y,z)

x,y,z = Produce1(), 1, 2
print(x,y,z)
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div><p>There is a convention in Lua, if function returns value, which I don&rsquo;t want to use we assign it to variable underscore <code>_</code>.</p><h3 id=create-multiple-results-from-an-array>Create multiple results from an array
<a class=anchor href=#create-multiple-results-from-an-array>#</a></h3><p>Lua&rsquo;s <code>unpack</code> function can accept an array as argument and returns the values are multiple value results. Following with fill result variables:</p><div class=grid-container><div class=grid-item><textarea class=editor>
x,y,z = unpack({1, 2, 3})
print(x,y,z)
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div><h3 id=calling-function-with-multiple-parameters>Calling function with multiple parameters
<a class=anchor href=#calling-function-with-multiple-parameters>#</a></h3><p>When a function has multiple parameters, we can also use <code>unpack</code> to deconstruct its array argument into the parameters for the function:</p><div class=grid-container><div class=grid-item><textarea class=editor>
function add(a, b) return a&#43;b end
a = {1,2}
print(add(unpack(a)))
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>