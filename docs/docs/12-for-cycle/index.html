<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Cycle structures#Similarly to other languages Lua has statement for controlling repetitive cycle which might have a variable to drive it and a condition at the beginning or end of the cycle.
For cycle#Lua has two types of for cycles, numeric for and generic for.
Numeric for cycle#To execute some statement several times, without for cycle we would need to declare variable with initial value, adjust the variable for next value up the the maximal range and execute the defined block."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="12. For Cycle"><meta property="og:description" content="Cycle structures#Similarly to other languages Lua has statement for controlling repetitive cycle which might have a variable to drive it and a condition at the beginning or end of the cycle.
For cycle#Lua has two types of for cycles, numeric for and generic for.
Numeric for cycle#To execute some statement several times, without for cycle we would need to declare variable with initial value, adjust the variable for next value up the the maximal range and execute the defined block."><meta property="og:type" content="article"><meta property="og:url" content="https://martinkunc.github.io/lua-tutorial/docs/12-for-cycle/"><meta property="article:section" content="docs"><title>12. For Cycle | Lua tutorial</title><link rel=manifest href=/lua-tutorial/manifest.json><link rel=icon href=/lua-tutorial/favicon.png type=image/x-icon><link rel=stylesheet href=/lua-tutorial/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/lua-tutorial/flexsearch.min.js></script>
<script defer src=/lua-tutorial/en.search.min.ac70413d1902211a5e9ddd055b0b1e33a261dab2aa9fa7814176408b1773acb9.js integrity="sha256-rHBBPRkCIRpend0FWwseM6Jh2rKqn6eBQXZAixdzrLk=" crossorigin=anonymous></script>
<script src=https://martinkunc.github.io/lua-tutorial//js/lua.vm.js?1662349164></script>
<link rel=stylesheet href=https://martinkunc.github.io/lua-tutorial//css/codemirror.css?1662349164><script src=https://martinkunc.github.io/lua-tutorial//js/codemirror.js?1662349164></script>
<link rel=stylesheet href=https://martinkunc.github.io/lua-tutorial//css/styles.css?1662349164><script src=https://martinkunc.github.io/lua-tutorial//js/lua.js?1662349164></script>
<script src=https://martinkunc.github.io/lua-tutorial//js/luacode.js?1662349164></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/lua-tutorial/><span>Lua tutorial</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/lua-tutorial/docs/01-installation/>01. Installation</a></li><li><a href=/lua-tutorial/docs/02-introduction/>02. Introduction</a></li><li><a href=/lua-tutorial/docs/03-types/>03. Types</a></li><li><a href=/lua-tutorial/docs/04-chunks-and-require/>04. Chunks and require</a></li><li><a href=/lua-tutorial/docs/05-string-functions/>05. String functions</a></li><li><a href=/lua-tutorial/docs/06-arrays/>06. Arrays and tables</a></li><li><a href=/lua-tutorial/docs/07-if-condition-operators/>07. If condition and operators</a></li><li><a href=/lua-tutorial/docs/08-functions-local-and-global-scope/>08. Functions, local and global scope</a></li><li><a href=/lua-tutorial/docs/09-functions-with-multiple-results/>09. Functions with multiple results</a></li><li><a href=/lua-tutorial/docs/10-closures-iterators/>10. Closures and Iterators</a></li><li><a href=/lua-tutorial/docs/11-table-key-value-pairs/>11. Table Key value pairs</a></li><li><a href=/lua-tutorial/docs/12-for-cycle/ class=active>12. For Cycle</a></li><li><a href=/lua-tutorial/docs/13-while-and-repeat-cycles/>13. While and repeat cycles</a></li><li><a href=/lua-tutorial/docs/15-common-standard-libraries-copy/>15. Common standard libraries</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/lua-tutorial/svg/menu.svg class=book-icon alt=Menu></label>
<strong>12. For Cycle</strong>
<label for=toc-control></label></div></header><article class=markdown><h2 id=cycle-structures>Cycle structures
<a class=anchor href=#cycle-structures>#</a></h2><p>Similarly to other languages Lua has statement for controlling repetitive cycle which might have a variable to drive it and a condition at the beginning or end of the cycle.</p><h2 id=for-cycle>For cycle
<a class=anchor href=#for-cycle>#</a></h2><p>Lua has two types of <code>for</code> cycles, numeric <code>for</code> and generic <code>for</code>.</p><h3 id=numeric-for-cycle>Numeric for cycle
<a class=anchor href=#numeric-for-cycle>#</a></h3><p>To execute some statement several times, without for cycle we would need to declare variable with initial value, adjust the variable for next value up the the maximal range and execute the defined block.</p><p>For cycle has following form, where newly declared local variable <code>i</code> will have values from 1 to 3 (inclusive).</p><div class=grid-container><div class=grid-item><textarea class=editor>
for i=1, 3 do
  print(&#34;*&#34;, i)
end
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div><p>In this form, variable is incremented by one and if we want different increment, we can add it after the end of range. In this form, cycle will start with 3 and decrease down up to 1.<div class=grid-container><div class=grid-item><textarea class=editor>
for i=3, 1, -1 do
  print(&#34;*&#34;, i)
end
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div></p><h3 id=generic-for-cycle>Generic for cycle
<a class=anchor href=#generic-for-cycle>#</a></h3><p>In Lua, generic for cycle is for iterating over iterators. The most common
use case is to iterate over tables using function <code>pairs</code> or <code>ipairs</code>, which are providing built in iterators over tables.
The syntax is as following:</p><div class=grid-container><div class=grid-item><textarea class=editor>
a = {January=31,February=28, March=31}
for k, m in pairs(a) do
  print(k..&#34; has &#34;..m..&#34; days&#34;)
end
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div><p>The <code>ipairs</code> is a limited variant, which doesn&rsquo;t work on tables where keys aren&rsquo;t numbers. It returns key (index) and value to the table.</p><div class=grid-container><div class=grid-item><textarea class=editor>
suffixes = {[1]=&#34;st&#34;,[2]=&#34;nd&#34;,[3]=&#34;rd&#34;}

a = {[1]=&#34;January&#34;,[2]=&#34;February&#34;,[3]=&#34;March&#34;}
for i, v in ipairs(a) do
  print(i..&#34; &#34;..suffixes[i]..&#34; month is &#34;..v)
end
</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div><p>The biggest advantage of generic for is that it can be used with any custom iterator function, which makes consuming iterators quite straightforward.</p><p>We could use function iterator <code>limitedIncreaser</code> which returns iterator which returns values from zero to the maximal value passed as its argument generic <code>for</code> this way:</p><div class=grid-container><div class=grid-item><textarea class=editor>
function limitedIncreaser(max)
  local a = 0 
  return function ()
    a = a &#43; 1
    if (a )
    return a
  end

for v in endlessIncreaser() do
  print(k..&#34; has &#34;..m..&#34; days&#34;)
end


end

</textarea><div class=rowexecute><div class=execute><a href=# class=executeButton>Execute &#187;</a></div></div></div><div class=grid-item><div class=output><pre class=outputText></pre></div></div><script>attachCode(document.currentScript)</script></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>